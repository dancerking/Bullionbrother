/**
 * Admin bundle scripts ( minified ).
 */

// Base.
var wlpfActionTimeout;function wlpfNumberToAbsInt(t=0){return t=isNaN(t)?0:Math.floor(t=Math.abs(t=parseFloat(t)))}function wlpfGetRandomAbsInt(t=0,e=9){return t=wlpfNumberToAbsInt(t),Math.floor(Math.random()*((e=wlpfNumberToAbsInt(e))-t+1)+t)}function wlpfGetUniqueId(t=0){return t=0<(t=wlpfNumberToAbsInt(t))?t:Date.now()+""+wlpfGetRandomAbsInt(1,9),wlpfNumberToAbsInt(t)}function wlpfLinkToAbsLink(t=""){let e=window.location,r=e.protocol,n=e.origin;return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")&&(t=0===t.indexOf("//")?r+""+t:0===t.indexOf("/")?n+""+t:n+"/"+t),t}function wlpfGetData(){let t={};return"object"==typeof wlpf_data&&(t=wlpf_data),t}function wlpfGetAjaxUrl(){let t=wlpfGetData(),e="";return t.hasOwnProperty("ajax_url")&&(e="string"==typeof(e=t.ajax_url)&&0<e.length?e:""),e}function wlpfGetAjaxNonce(){let t=wlpfGetData(),e="";return t.hasOwnProperty("ajax_nonce")&&(e="string"==typeof(e=t.ajax_nonce)&&0<e.length?e:""),e}function wlpfGetAjaxFilter(){let t=wlpfGetData(),e="";return t.hasOwnProperty("ajax_filter")&&(e="string"==typeof(e=t.ajax_filter)&&"1"===e),e}function wlpfGetAddAjaxQueryArgsToUrl(){let t=wlpfGetData(),e="";return t.hasOwnProperty("add_ajax_query_args_to_url")&&(e="string"==typeof(e=t.add_ajax_query_args_to_url)&&"1"===e),e}function wlpfGetTimeToTakeAjaxAction(){let t=wlpfGetData(),e="";return t.hasOwnProperty("time_to_take_ajax_action")&&(e=wlpfNumberToAbsInt(e=t.time_to_take_ajax_action)),e}function wlpfGetTimeToTakeNoneAjaxAction(){let t=wlpfGetData(),e="";return t.hasOwnProperty("time_to_take_none_ajax_action")&&(e=wlpfNumberToAbsInt(e=t.time_to_take_none_ajax_action)),e}function wlpfGetProductsWrapperSelector(){let t=wlpfGetData(),e="";return t.hasOwnProperty("products_wrapper_selector")&&(e="string"==typeof(e=t.products_wrapper_selector)&&0<e.length&&".wl-filterable-products-wrap"!==e?e:".wlpf-products-wrap"),e}function wlpfGetShowFilterArguments(){let t=wlpfGetData(),e="";return t.hasOwnProperty("show_filter_arguments")&&(e="string"==typeof(e=t.show_filter_arguments)&&"1"===e),e}function wlpfGetQueryArgsPrefix(){let t=wlpfGetData(),e="";return t.hasOwnProperty("query_args_prefix")&&(e="string"==typeof(e=t.query_args_prefix)&&0<e.length?e:"wlpf_"),e}function wlpfGetActiveMap(){let t=!0;return!0===wlpfGetAjaxFilter()&&!1===wlpfGetAddAjaxQueryArgsToUrl()&&(t=!1),t}function wlpfGetElementorEditorMode(){let t=wlpfGetData(),e="";return t.hasOwnProperty("elementor_editor_mode")&&(e="string"==typeof(e=t.elementor_editor_mode)&&"1"===e),e}function wlpfGetFiltersData(){let t=wlpfGetData(),e="";return t.hasOwnProperty("filters_data")&&(e="object"!=typeof(e=t.filters_data)||Array.isArray(e)?{}:e),e}function wlpfGetFilterPageNumber(){let t=wlpfGetData(),e="";return t.hasOwnProperty("filter_page_number")&&(e=wlpfNumberToAbsInt(e=t.filter_page_number)),e}function wlpfGetFilterPageUrl(){let t=wlpfGetData(),e="";return t.hasOwnProperty("filter_page_url")&&(e="string"==typeof(e=t.filter_page_url)&&0<e.length?e:window.location,e=new URL(e)),e}function wlpfGetItemTitleStructure(){let t=wlpfGetData(),e="";return t.hasOwnProperty("item_title_structure")&&(e="string"==typeof(e=t.item_title_structure)&&0<e.length?e:"ID# _WLPF_ID_"),e}function wlpfGetItemTitleWithLabelStructure(){let t=wlpfGetData(),e="";return t.hasOwnProperty("item_title_with_label_structure")&&(e="string"==typeof(e=t.item_title_with_label_structure)&&0<e.length?e:"ID# _WLPF_ID_ &mdash; _WLPF_LABEL_"),e}

// Admin scripts.
!function(e){"use strict";e(document).ready(function(){e(document).on("click",".wlpf-dynamic-shortcode-copy",function(n){n.preventDefault();let o=e(this),t=o.closest(".woolentor-admin-input").find("input").val(),i=e('<input class="wlpf-dynamic-shortcode-temp-input">');"string"==typeof t&&(e("body").append(i),i.val(t).select(),document.execCommand("copy"),i.remove(),o.addClass("wlpf-dynamic-shortcode-copy-success"),o.removeClass("wlpf-dynamic-shortcode-copy-error"),setTimeout(function(){o.removeClass("wlpf-dynamic-shortcode-copy-success"),o.removeClass("wlpf-dynamic-shortcode-copy-error")},1e3))}),e(document).on("keyup change",".wlpf-dynamic-label .woolentor-admin-input input",function(n){let o=e(this),t=o.val(),i=o.closest(".woolentor-option-repeater-item"),l=i.closest(".woolenor-reapeater-fields-area"),a=i.find(".wlpf-dynamic-unique-id"),r=a.find(".woolentor-admin-input input").val(),s=i.find(".woolentor-option-repeater-tools .woolentor-option-repeater-item-title"),d="";t=t.trim(),r=r.trim(),d=(d=(d=0<t.length?wlpfGetItemTitleWithLabelStructure():wlpfGetItemTitleStructure()).replace("_WLPF_ID_",r)).replace("_WLPF_LABEL_",t),s.html(d),!0===a.hasClass("wlpf-filter-unique-id")&&void 0!==l&&e(document).trigger("group_filters_select_refresh",[l])}),e(document).on("repeater_field_item_added",function(e,n){let o=n.find(".wlpf-dynamic-shortcode"),t=o.find(".woolentor-admin-input input"),i=n.find(".wlpf-dynamic-unique-id .woolentor-admin-input input"),l=n.find(".wlpf-dynamic-label .woolentor-admin-input input"),a=i.val(),r="",s="",d="";a=wlpfGetUniqueId(a),o.hasClass("wlpf-filter-shortcode")?r='[wlpf_filter id="'+a+'"]':o.hasClass("wlpf-group-shortcode")&&(r='[wlpf_group id="'+a+'"]'),i.val(a),t.val(r),d='<span class="wlpf-dynamic-shortcode-copy">'+(s='<span class="dashicons dashicons-admin-page"></span>')+"</span>",t.attr("disabled","disabled"),t.closest(".woolentor-admin-input").append(d),l.trigger("change")}),e(document).on("repeater_field_item_active",function(e,n){n.closest(".woolenor-reapeater-fields-area");let o=n.find(".wlpf-dynamic-shortcode"),t=o.find(".woolentor-admin-input input"),i=n.find(".wlpf-dynamic-unique-id .woolentor-admin-input input").val(),l="",a="",r="";o.hasClass("wlpf-filter-shortcode")?l='[wlpf_filter id="'+i+'"]':o.hasClass("wlpf-group-shortcode")&&(l='[wlpf_group id="'+i+'"]'),t.val(l),r='<span class="wlpf-dynamic-shortcode-copy">'+(a='<span class="dashicons dashicons-admin-page"></span>')+"</span>",t.attr("disabled","disabled"),t.closest(".woolentor-admin-input").append(r)}),e(document).on("repeater_field_item_removed",function(n,o,t){!0===o.find(".wlpf-dynamic-unique-id").hasClass("wlpf-filter-unique-id")&&void 0!==t&&e(document).trigger("group_filters_select_refresh",[t])}),e(document).on("group_filters_select_refresh",function(n,o){if(0<o.length){let t=o.find(".woolentor-option-repeater-item:not(.woolentor-repeater-hidden)"),i=e(document).find(".wlpf-group-filters .woolentor-admin-select select"),l={};e.each(t,function(){let n=e(this),o=n.find(".wlpf-filter-label .woolentor-admin-input input").val(),t=n.find(".wlpf-filter-unique-id .woolentor-admin-input input").val(),i="";void 0!==o&&void 0!==t&&(o=o.trim(),t=t.trim(),i=(i=(i=0<o.length?wlpfGetItemTitleWithLabelStructure():wlpfGetItemTitleStructure()).replace("_WLPF_ID_",t)).replace("_WLPF_LABEL_",o),l[t]=i)}),e.each(i,function(){let n=e(this),o=n.val(),t=n.parent(),i="",a=[];for(let r=0;r<o.length;r++){let s=wlpfNumberToAbsInt(o[r]);0<s&&l.hasOwnProperty(s)&&a.push(s)}e.each(l,function(e,n){i+='<option value="'+e+'">'+n+"</option>"}),n.html(i).val(a).change(),n.hasClass("select2-hidden-accessible")&&n.select2("destroy").select2({dropdownParent:t})})}}),e(document).on("module_setting_loaded",function(){e(".wlpf-dynamic-label .woolentor-admin-input input").trigger("change")})})}(jQuery);